const cartList=document.querySelector(".cart-list"),search=(cartList&&cartList.addEventListener("click",e=>{if("remove"===e.target.classList[1]){const t=e.target.closest(".cart-item");t.remove()}}),document.getElementById("search"));if(search){const d=document.querySelector(".clear-input"),e=document.querySelector(".header-search-result"),f=document.querySelector(".header-control-number"),g=document.querySelector(".header-control-item"),h=document.querySelector(".header-control-top"),i=document.querySelector(".header-control-search");search.addEventListener("focus",()=>{e.classList.add("active"),d.classList.add("active"),f.classList.add("hidden"),g.classList.add("hidden-search"),h.classList.add("current"),i.classList.add("current")}),$(document).on("mouseup",function(t){0===$(".form-header").has(t.target).length&&(e.classList.remove("active"),d.classList.remove("active"),f.classList.remove("hidden"),g.classList.remove("hidden-search"),h.classList.remove("current"),i.classList.remove("current"))}),d.addEventListener("click",e=>{e.preventDefault(),search.value=""}),!function(){if(matchMedia){const t=window.matchMedia("(max-width:1024px)");t.addListener(e),e(t)}function e(e){(e.matches?$(".header-mob .header-mob-bottom"):$(".header-control-search.main")).append($(".form-header"))}}()}let openTabs=document.querySelector(".ui-tab.tabs");openTabs&&openTabs.addEventListener("click",s=>{if("ui-tab-link"===s.target.classList[0]){s=s.target.dataset.name;let e=document.querySelector(".swiper.active")||document.querySelector(".slider-tab.active"),t=document.querySelector(".ui-tab-link.active"),r=document.querySelector(".swiper."+s)||document.querySelector(".slider-tab."+s),c=document.querySelector(".ui-tab-link."+s);if(e.classList.remove("active"),t.classList.remove("active"),r.classList.add("active"),c.classList.add("active"),r===document.querySelector(".swiper."+s))for(let e=0;e<swiperTab.length;e++)swiperTab[e].slideTo(0)}});const burgerBtn=document.querySelector(".header-icon.burger"),burgerBtnClose=document.querySelector(".header-burger-close"),dropdownItem=(burgerBtn&&burgerBtn.addEventListener("click",()=>{const e=document.querySelector(".header-burger");e.classList.add("active"),document.body.style.overflow="hidden",$(".header-burger-search").append($(".form-header"))}),burgerBtnClose&&burgerBtnClose.addEventListener("click",e=>{const t=document.querySelector(".header-burger");t.classList.remove("active"),document.body.style.overflow="visible",$(".header-mob-bottom").append($(".form-header"))}),document.querySelectorAll(".dropdown"));if(dropdownItem)for(let e=0;e<dropdownItem.length;e++)dropdownItem[e].addEventListener("click",e=>{const t=e.target.closest(".dropdown").querySelector(".dropdown-content");if("dropbtn"===e.target.classList[0]&&t.classList.add("active"),"dropdown-option"===e.target.classList[0]){var r=e.target.textContent;const c=e.target.closest(".dropdown").querySelector(".dropbtn"),s=e.target.closest(".dropdown").querySelectorAll(".dropdown-option.active");c.textContent=r,t.classList.remove("active");for(let e=0;e<s.length;e++)s[e].classList.remove("active");e.target.classList.add("active")}});const inputField=document.querySelectorAll(".ui-field input");if(inputField)for(let e=0;e<inputField.length;e++)inputField[e].addEventListener("focus",e=>{const t=e.target.parentNode.querySelector(".ui-label");""===e.target.value&&t.classList.add("active")}),inputField[e].addEventListener("blur",e=>{const t=e.target.parentNode.querySelector(".ui-label");""!==e.target.value?t.classList.add("active"):t.classList.remove("active")});const targetBlock=document.querySelectorAll(".cart-txt .ui-input");if(targetBlock)for(let e=0;e<targetBlock.length;e++)targetBlock[e].addEventListener("blur",e=>{if(""!==e.target.value){const t=e.target.closest(".cart-price").querySelector(".cart-price-discount");e.target.classList.add("hide"),t.classList.add("active")}});const deleteDiscount=document.querySelectorAll(".cart-price-discount");if(deleteDiscount)for(let e=0;e<deleteDiscount.length;e++)deleteDiscount[e].addEventListener("click",e=>{if("sprite"===e.target.classList[0]){const t=e.target.closest(".cart-price").querySelector(".ui-input"),r=e.target.closest(".cart-price-discount");t.classList.remove("hide"),r.classList.remove("active")}});
$(document).on("click",".mfp-link",function(){var o=$(this);return $.magnificPopup.open({items:{src:o.attr("data-href")},type:"ajax",overflowY:"scroll",removalDelay:300,mainClass:"my-mfp-zoom-in",ajax:{tError:"Error. Not valid url"},callbacks:{open:function(){document.documentElement.style.overflow="hidden"},close:function(){document.documentElement.style.overflow=""}}}),!1});
const swiperTab=new Swiper(".swiper.slider-new",{slidesPerView:4,spaceBetween:40,setWrapperSize:!0,navigation:{nextEl:".swiper-button-next.btn-new-next",prevEl:".swiper-button-prev.btn-new-prev"},pagination:{el:".swiper-pagination.new-pagination",type:"bullets",clickable:!0},breakpoints:{1024:{slidesPerView:4,spaceBetween:40},576:{slidesPerView:3,spaceBetween:25},480:{slidesPerView:2,spaceBetween:20},0:{slidesPerView:1,spaceBetween:40}}}),duosMain=new Swiper(".swiper.duos-main",{slidesPerView:1,setWrapperSize:!0,navigation:{nextEl:".swiper-button-next.btn-main-next",prevEl:".swiper-button-prev.btn-main-prev"},pagination:{el:".swiper-pagination.duos-main",type:"bullets",clickable:!0}}),duosSecond=new Swiper(".swiper.duos-second",{slidesPerView:1,setWrapperSize:!0,pagination:{el:".swiper-pagination",clickable:!0}});
$(".order-form").validate({errorElement:"span",rules:{surname:{required:!0,lettersonly:!0},name:{required:!0,lettersonly:!0},lastName:{required:!0,lettersonly:!0},email:{required:!0,email:!0},phone:{required:!0,minlength:19,phoneNumber:!0},town:{required:!0,lettersonly:!0},address:{required:!0},select1:{required:!0},select:{required:!0}},errorPlacement:function(e,r){r.hasClass("ui-radio")&&r.closest(".ui-select").append(e),r.hasClass("ui-input")&&r.closest(".ui-field").append(e)},messages:{surname:{required:"Пожалуйста, введите данные",lettersonly:"Ваше имя не может состоять из цифр"},name:{required:"Пожалуйста, введите данные",lettersonly:"Ваша фамилия не может состоять из цифр"},lastName:{required:"Пожалуйста, введите данные",lettersonly:"Ваше отчество не может состоять из цифр"},email:{required:"Пожалуйста, введите данные",email:"Введите корректный email"},phone:{required:"Пожалуйста, введите данные",minlength:"Введите полный номер"},town:{required:"Пожалуйста, введите данные"},address:{required:"Пожалуйста, введите данные"},select1:{required:"Пожалуйста, выберете способ доставки"},select:{required:"Пожалуйста, выберете способ оплаты"}}}),jQuery.validator.addMethod("lettersonly",function(e,r){return this.optional(r)||/^[a-z]+$/i.test(e)},"Letters only please"),jQuery.validator.addMethod("phoneNumber",function(e,r){if(!e.match("_"))return r.value===e},"Введите корректный номер");let phone=document.getElementById("phone");phone&&phone.addEventListener("focus",function(){mask=IMask(this,{mask:"+{375} (00) 000-00-00",overwrite:!0,lazy:!1,placeholderChar:"_"})});